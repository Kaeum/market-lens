spring:
  profiles:
    default: dev

  r2dbc:
    url: r2dbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:marketlens}
    username: ${DB_USERNAME:marketlens}
    password: ${DB_PASSWORD:marketlens}

  flyway:
    enabled: true
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:marketlens}
    user: ${DB_USERNAME:marketlens}
    password: ${DB_PASSWORD:marketlens}
    baseline-on-migrate: true

  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}

server:
  port: 8080

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics

springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html

kafka:
  bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}

# 외부 API
kis:
  app-key: ${KIS_APP_KEY:}
  app-secret: ${KIS_APP_SECRET:}
  account-number: ${KIS_ACCOUNT_NUMBER:}
  base-url: ${KIS_BASE_URL:https://openapivts.koreainvestment.com:29443}
  token-refresh-before-minutes: 30
  connection-timeout-ms: 5000
  read-timeout-ms: 10000
  ws-url: ${KIS_WS_URL:ws://ops.koreainvestment.com:21000}
  ws-max-subscriptions: 40
  ws-reconnect-initial-delay-ms: 1000
  ws-reconnect-max-delay-ms: 60000
  ws-heartbeat-timeout-ms: 60000

krx:
  api-key: ${KRX_API_KEY:}
  base-url: ${KRX_BASE_URL:http://data-dbg.krx.co.kr/svc/apis}
  connection-timeout-ms: 10000
  read-timeout-ms: 30000

dart:
  api-key: ${DART_API_KEY:}

naver:
  client-id: ${NAVER_CLIENT_ID:}
  client-secret: ${NAVER_CLIENT_SECRET:}
